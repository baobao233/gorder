{"level":"info","msg":"waiting for stock grpc client, timeout: 10 seconds","time":"2025-02-09 14:50:57"}
{"level":"info","msg":"Discovered 1 instance of stock, addrs = [127.0.0.1:5003]","time":"2025-02-09 14:50:57"}
{"addr":"127.0.0.1:5002","level":"info","msg":"register to consul","serviceName":"order","time":"2025-02-09 14:50:57"}
{"level":"info","msg":"Start gRPC server, Listening: 127.0.0.1:5002","time":"2025-02-09 14:50:57"}
{"level":"info","msg":"waiting for stock grpc client, timeout: 10 seconds","time":"2025-02-09 14:55:50"}
{"level":"info","msg":"waiting for stock grpc client, timeout: 10 seconds","time":"2025-02-09 14:56:22"}
{"level":"info","msg":"Discovered 1 instance of stock, addrs = [127.0.0.1:5003]","time":"2025-02-09 14:56:22"}
{"addr":"127.0.0.1:5002","level":"info","msg":"register to consul","serviceName":"order","time":"2025-02-09 14:56:22"}
{"level":"info","msg":"Start gRPC server, Listening: 127.0.0.1:5002","time":"2025-02-09 14:56:22"}
{"args":"{\"customer_id\":\"6\",\"items\":[{\"id\":\"prod_RPmhK2nexllK3r\",\"quantity\":8},{\"id\":\"prod_RPmhK2nexllK3r\",\"quantity\":42},{\"id\":\"prod_ROGERol0hYd3tx\",\"quantity\":97}]}","fields.time":1739084257,"from":"127.0.0.1","level":"info","msg":"_request_in","time":"2025-02-09 14:57:37","uri":"/api/customer/6/orders"}
{"command":"CreateOrder","command_body":"{\"CustomerID\":\"6\",\"Items\":[{\"ID\":\"prod_RPmhK2nexllK3r\",\"Quantity\":8},{\"ID\":\"prod_RPmhK2nexllK3r\",\"Quantity\":42},{\"ID\":\"prod_ROGERol0hYd3tx\",\"Quantity\":97}]}","level":"debug","msg":"Executing command","time":"2025-02-09 14:57:37"}
{"cmd":{"CustomerID":"6","Items":[{"ID":"prod_RPmhK2nexllK3r","Quantity":8},{"ID":"prod_RPmhK2nexllK3r","Quantity":42},{"ID":"prod_ROGERol0hYd3tx","Quantity":97}]},"level":"info","msg":"CreateOrderHandler_command_success","time":"2025-02-09 14:57:37"}
{"cost":40,"level":"info","msg":"_request_out","resp":"{\"errno\":1,\"message\":\"rpc error: code = Internal desc = \",\"data\":null,\"trace_id\":\"11d81e802c1555ffa20369063265f68b\"}","time":"2025-02-09 14:57:37"}
{"level":"info","msg":"waiting for stock grpc client, timeout: 10 seconds","time":"2025-02-09 15:14:20"}
{"level":"info","msg":"Discovered 1 instance of stock, addrs = [127.0.0.1:5003]","time":"2025-02-09 15:14:20"}
{"addr":"127.0.0.1:5002","level":"info","msg":"register to consul","serviceName":"order","time":"2025-02-09 15:14:20"}
{"level":"info","msg":"Start gRPC server, Listening: 127.0.0.1:5002","time":"2025-02-09 15:14:20"}
{"args":"{\"customer_id\":\"2\",\"items\":[{\"id\":\"prod_RPmhK2nexllK3r\",\"quantity\":8},{\"id\":\"prod_RPmhK2nexllK3r\",\"quantity\":42},{\"id\":\"prod_ROGERol0hYd3tx\",\"quantity\":97}]}","fields.time":1739085317,"from":"127.0.0.1","level":"info","msg":"_request_in","time":"2025-02-09 15:15:17","uri":"/api/customer/2/orders"}
{"command":"CreateOrder","command_body":"{\"CustomerID\":\"2\",\"Items\":[{\"ID\":\"prod_RPmhK2nexllK3r\",\"Quantity\":8},{\"ID\":\"prod_RPmhK2nexllK3r\",\"Quantity\":42},{\"ID\":\"prod_ROGERol0hYd3tx\",\"Quantity\":97}]}","level":"debug","msg":"Executing command","time":"2025-02-09 15:15:17"}
{"cmd":{"CustomerID":"2","Items":[{"ID":"prod_RPmhK2nexllK3r","Quantity":8},{"ID":"prod_RPmhK2nexllK3r","Quantity":42},{"ID":"prod_ROGERol0hYd3tx","Quantity":97}]},"level":"info","msg":"CreateOrderHandler_command_success","time":"2025-02-09 15:15:17"}
{"cost":176,"level":"info","msg":"_request_out","resp":"{\"errno\":1,\"message\":\"rpc error: code = Internal desc = \",\"data\":null,\"trace_id\":\"766c54027e6335cf5b3bb80c785aadf7\"}","time":"2025-02-09 15:15:17"}
{"level":"info","msg":"waiting for stock grpc client, timeout: 10 seconds","time":"2025-02-09 15:24:16"}
{"level":"info","msg":"Discovered 1 instance of stock, addrs = [127.0.0.1:5003]","time":"2025-02-09 15:24:16"}
{"addr":"127.0.0.1:5002","level":"info","msg":"register to consul","serviceName":"order","time":"2025-02-09 15:24:16"}
{"level":"info","msg":"Start gRPC server, Listening: 127.0.0.1:5002","time":"2025-02-09 15:24:16"}
{"args":"{\"customer_id\":\"5\",\"items\":[{\"id\":\"prod_RPmhK2nexllK3r\",\"quantity\":8},{\"id\":\"prod_RPmhK2nexllK3r\",\"quantity\":42},{\"id\":\"prod_ROGERol0hYd3tx\",\"quantity\":97}]}","fields.time":1739085866,"from":"127.0.0.1","level":"info","msg":"_request_in","time":"2025-02-09 15:24:26","uri":"/api/customer/5/orders"}
{"cmd":{"CustomerID":"5","Items":[{"ID":"prod_RPmhK2nexllK3r","Quantity":8},{"ID":"prod_RPmhK2nexllK3r","Quantity":42},{"ID":"prod_ROGERol0hYd3tx","Quantity":97}]},"level":"info","msg":"CreateOrderHandler_command_success","time":"2025-02-09 15:24:26"}
{"cost":45,"level":"info","msg":"_request_out","resp":"{\"errno\":1,\"message\":\"rpc error: code = Internal desc = \",\"data\":null,\"trace_id\":\"0c697d8f1c99f008f1d1392921b74142\"}","time":"2025-02-09 15:24:26"}
{"args":"{\"customer_id\":\"3\",\"items\":[{\"id\":\"prod_RPmhK2nexllK3r\",\"quantity\":8},{\"id\":\"prod_RPmhK2nexllK3r\",\"quantity\":42},{\"id\":\"prod_ROGERol0hYd3tx\",\"quantity\":97}]}","fields.time":1739086139,"from":"127.0.0.1","level":"info","msg":"_request_in","time":"2025-02-09 15:28:59","uri":"/api/customer/3/orders"}
{"cmd":{"CustomerID":"3","Items":[{"ID":"prod_RPmhK2nexllK3r","Quantity":8},{"ID":"prod_RPmhK2nexllK3r","Quantity":42},{"ID":"prod_ROGERol0hYd3tx","Quantity":97}]},"level":"info","msg":"CreateOrderHandler_command_success","time":"2025-02-09 15:28:59"}
{"cost":43,"level":"info","msg":"_request_out","resp":"{\"errno\":1,\"message\":\"rpc error: code = Internal desc = \",\"data\":null,\"trace_id\":\"39ba134b63a1497756832a8743df6105\"}","time":"2025-02-09 15:28:59"}
{"args":"{\"customer_id\":\"2\",\"items\":[{\"id\":\"prod_RPmhK2nexllK3r\",\"quantity\":8},{\"id\":\"prod_RPmhK2nexllK3r\",\"quantity\":42},{\"id\":\"prod_ROGERol0hYd3tx\",\"quantity\":97}]}","fields.time":1739086505,"from":"127.0.0.1","level":"info","msg":"_request_in","time":"2025-02-09 15:35:05","uri":"/api/customer/2/orders"}
{"cmd":{"CustomerID":"2","Items":[{"ID":"prod_RPmhK2nexllK3r","Quantity":8},{"ID":"prod_RPmhK2nexllK3r","Quantity":42},{"ID":"prod_ROGERol0hYd3tx","Quantity":97}]},"level":"info","msg":"CreateOrderHandler_command_success","time":"2025-02-09 15:35:05"}
{"cost":34,"level":"info","msg":"_request_out","resp":"{\"errno\":1,\"message\":\"rpc error: code = Internal desc = \",\"data\":null,\"trace_id\":\"b4906ec5c7784830145954d3d4c4262f\"}","time":"2025-02-09 15:35:05"}
{"level":"info","msg":"waiting for stock grpc client, timeout: 10 seconds","time":"2025-02-09 15:57:05"}
{"level":"info","msg":"Discovered 1 instance of stock, addrs = [127.0.0.1:5003]","time":"2025-02-09 15:57:08"}
{"addr":"127.0.0.1:5002","level":"info","msg":"register to consul","serviceName":"order","time":"2025-02-09 15:57:08"}
{"level":"info","msg":"Start gRPC server, Listening: 127.0.0.1:5002","time":"2025-02-09 15:57:08"}
{"args":"{\"customer_id\":\"7\",\"items\":[{\"id\":\"prod_RPmhK2nexllK3r\",\"quantity\":8},{\"id\":\"prod_RPmhK2nexllK3r\",\"quantity\":42},{\"id\":\"prod_ROGERol0hYd3tx\",\"quantity\":97}]}","fields.time":1739087836,"from":"127.0.0.1","level":"info","msg":"_request_in","time":"2025-02-09 15:57:16","uri":"/api/customer/7/orders"}
{"cmd":{"CustomerID":"7","Items":[{"ID":"prod_RPmhK2nexllK3r","Quantity":8},{"ID":"prod_RPmhK2nexllK3r","Quantity":42},{"ID":"prod_ROGERol0hYd3tx","Quantity":97}]},"level":"info","msg":"CreateOrderHandler_command_success","time":"2025-02-09 15:57:16"}
{"cost":24,"level":"info","msg":"_request_out","resp":"{\"errno\":1,\"message\":\"rpc error: code = Internal desc = \",\"data\":null,\"trace_id\":\"a88c0547e67077ca1e1d874a80031ac3\"}","time":"2025-02-09 15:57:16"}
{"level":"info","msg":"waiting for stock grpc client, timeout: 10 seconds","time":"2025-02-09 15:58:54"}
{"level":"info","msg":"Discovered 1 instance of stock, addrs = [127.0.0.1:5003]","time":"2025-02-09 15:58:56"}
{"addr":"127.0.0.1:5002","level":"info","msg":"register to consul","serviceName":"order","time":"2025-02-09 15:58:56"}
{"level":"info","msg":"Start gRPC server, Listening: 127.0.0.1:5002","time":"2025-02-09 15:58:56"}
{"args":"{\"customer_id\":\"5\",\"items\":[{\"id\":\"prod_RPmhK2nexllK3r\",\"quantity\":8},{\"id\":\"prod_RPmhK2nexllK3r\",\"quantity\":42},{\"id\":\"prod_ROGERol0hYd3tx\",\"quantity\":97}]}","fields.time":1739087939,"from":"127.0.0.1","level":"info","msg":"_request_in","time":"2025-02-09 15:58:59","uri":"/api/customer/5/orders"}
{"args":"[{\"ID\":\"prod_ROGERol0hYd3tx\",\"Quantity\":97},{\"ID\":\"prod_RPmhK2nexllK3r\",\"Quantity\":50}]","cost":811,"level":"info","method":"StockGRPC.CheckIfItemsInStock","msg":"_request_success","resp":null,"time":"2025-02-09 15:59:00"}
{"args":"{\"order\":{\"ID\":\"\",\"CustomerID\":\"5\",\"Status\":\"pending\",\"PaymentLink\":\"\",\"Items\":[{\"ID\":\"prod_ROGERol0hYd3tx\",\"Name\":\"\",\"Quantity\":97,\"PriceID\":\"price_1QVTiGGPMmgbVtkIR6Aiv7up\"},{\"ID\":\"prod_RPmhK2nexllK3r\",\"Name\":\"\",\"Quantity\":50,\"PriceID\":\"price_1QWx7tGPMmgbVtkIivuPtjEt\"}]}}","cost":19,"level":"info","method":"OrderRepositoryMongo.Create","msg":"_request_success","resp":null,"time":"2025-02-09 15:59:00"}
{"args":"{\"Channel\":{},\"Routing\":\"direct\",\"Exchange\":\"\",\"Queue\":\"order.created\",\"Body\":{\"ID\":\"67a86044c5b99987edbd8cb7\",\"CustomerID\":\"5\",\"Status\":\"pending\",\"PaymentLink\":\"\",\"Items\":[{\"ID\":\"prod_ROGERol0hYd3tx\",\"Name\":\"\",\"Quantity\":97,\"PriceID\":\"price_1QVTiGGPMmgbVtkIR6Aiv7up\"},{\"ID\":\"prod_RPmhK2nexllK3r\",\"Name\":\"\",\"Quantity\":50,\"PriceID\":\"price_1QWx7tGPMmgbVtkIivuPtjEt\"}]}}","cost":1,"level":"info","msg":"_mq_publish_success","resp":null,"time":"2025-02-09 15:59:00"}
{"cmd":{"CustomerID":"5","Items":[{"ID":"prod_RPmhK2nexllK3r","Quantity":8},{"ID":"prod_RPmhK2nexllK3r","Quantity":42},{"ID":"prod_ROGERol0hYd3tx","Quantity":97}]},"level":"info","msg":"CreateOrderHandler_command_success","time":"2025-02-09 15:59:00"}
{"command":"CreateOrder","command_body":"{\"CustomerID\":\"5\",\"Items\":[{\"ID\":\"prod_RPmhK2nexllK3r\",\"Quantity\":8},{\"ID\":\"prod_RPmhK2nexllK3r\",\"Quantity\":42},{\"ID\":\"prod_ROGERol0hYd3tx\",\"Quantity\":97}]}","level":"info","msg":"Command executed successfully","time":"2025-02-09 15:59:00"}
{"cost":835,"level":"info","msg":"_request_out","resp":"{\"errno\":0,\"message\":\"success\",\"data\":{\"customer_id\":\"5\",\"order_id\":\"67a86044c5b99987edbd8cb7\",\"redirect_url\":\"http://localhost:8282/success?customerID=5\\u0026orderID=67a86044c5b99987edbd8cb7\"},\"trace_id\":\"a999516a9c36f43520f881a2fda1e891\"}","time":"2025-02-09 15:59:00"}
{"level":"info","msg":"waiting for stock grpc client, timeout: 10 seconds","time":"2025-02-09 16:03:34"}
{"level":"info","msg":"Discovered 1 instance of stock, addrs = [127.0.0.1:5003]","time":"2025-02-09 16:03:39"}
{"addr":"127.0.0.1:5002","level":"info","msg":"register to consul","serviceName":"order","time":"2025-02-09 16:03:39"}
{"level":"info","msg":"Start gRPC server, Listening: 127.0.0.1:5002","time":"2025-02-09 16:03:39"}
{"args":"{\"customer_id\":\"7\",\"items\":[{\"id\":\"prod_RPmhK2nexllK3r\",\"quantity\":8},{\"id\":\"prod_RPmhK2nexllK3r\",\"quantity\":42},{\"id\":\"prod_ROGERol0hYd3tx\",\"quantity\":97}]}","fields.time":1739088244,"from":"127.0.0.1","level":"info","msg":"_request_in","time":"2025-02-09 16:04:04","uri":"/api/customer/7/orders"}
{"args":"[{\"ID\":\"prod_RPmhK2nexllK3r\",\"Quantity\":50},{\"ID\":\"prod_ROGERol0hYd3tx\",\"Quantity\":97}]","cost":753,"level":"info","method":"StockGRPC.CheckIfItemsInStock","msg":"_request_success","resp":null,"time":"2025-02-09 16:04:05"}
{"args":"{\"order\":{\"ID\":\"\",\"CustomerID\":\"7\",\"Status\":\"pending\",\"PaymentLink\":\"\",\"Items\":[{\"ID\":\"prod_RPmhK2nexllK3r\",\"Name\":\"\",\"Quantity\":50,\"PriceID\":\"price_1QWx7tGPMmgbVtkIivuPtjEt\"},{\"ID\":\"prod_ROGERol0hYd3tx\",\"Name\":\"\",\"Quantity\":97,\"PriceID\":\"price_1QVTiGGPMmgbVtkIR6Aiv7up\"}]}}","cost":18,"level":"info","method":"OrderRepositoryMongo.Create","msg":"_request_success","resp":null,"time":"2025-02-09 16:04:05"}
{"args":"{\"Channel\":{},\"Routing\":\"direct\",\"Exchange\":\"\",\"Queue\":\"order.created\",\"Body\":{\"ID\":\"67a8617540c3699078f4aeb8\",\"CustomerID\":\"7\",\"Status\":\"pending\",\"PaymentLink\":\"\",\"Items\":[{\"ID\":\"prod_RPmhK2nexllK3r\",\"Name\":\"\",\"Quantity\":50,\"PriceID\":\"price_1QWx7tGPMmgbVtkIivuPtjEt\"},{\"ID\":\"prod_ROGERol0hYd3tx\",\"Name\":\"\",\"Quantity\":97,\"PriceID\":\"price_1QVTiGGPMmgbVtkIR6Aiv7up\"}]}}","cost":2,"level":"info","msg":"_mq_publish_success","resp":null,"time":"2025-02-09 16:04:05"}
{"cmd":{"CustomerID":"7","Items":[{"ID":"prod_RPmhK2nexllK3r","Quantity":8},{"ID":"prod_RPmhK2nexllK3r","Quantity":42},{"ID":"prod_ROGERol0hYd3tx","Quantity":97}]},"level":"info","msg":"CreateOrderHandler_command_success","time":"2025-02-09 16:04:05"}
{"command":"CreateOrder","command_body":"{\"CustomerID\":\"7\",\"Items\":[{\"ID\":\"prod_RPmhK2nexllK3r\",\"Quantity\":8},{\"ID\":\"prod_RPmhK2nexllK3r\",\"Quantity\":42},{\"ID\":\"prod_ROGERol0hYd3tx\",\"Quantity\":97}]}","level":"info","msg":"Command executed successfully","time":"2025-02-09 16:04:05"}
{"cost":776,"level":"info","msg":"_request_out","resp":"{\"errno\":0,\"message\":\"success\",\"data\":{\"customer_id\":\"7\",\"order_id\":\"67a8617540c3699078f4aeb8\",\"redirect_url\":\"http://localhost:8282/success?customerID=7\\u0026orderID=67a8617540c3699078f4aeb8\"},\"trace_id\":\"5b6639e774041263e86dfa9a362d8587\"}","time":"2025-02-09 16:04:05"}
