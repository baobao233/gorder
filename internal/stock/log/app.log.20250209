{"level":"debug","msg":"dsn = root:root@tcp(localhost:3307)/gorder_v2?charset=utf8mb4\u0026parseTime=True\u0026loc=Local","time":"2025-02-09 14:56:12"}
{"addr":"127.0.0.1:5003","level":"info","msg":"register to consul","serviceName":"stock","time":"2025-02-09 14:56:12"}
{"level":"info","msg":"Start gRPC server, Listening: 127.0.0.1:5003","time":"2025-02-09 14:56:12"}
{"args":{"Items":[{"ID":"prod_RPmhK2nexllK3r","Quantity":50},{"ID":"prod_ROGERol0hYd3tx","Quantity":97}]},"level":"info","metadata":{":authority":["127.0.0.1:5003"],"content-type":["application/grpc"],"traceparent":["00-11d81e802c1555ffa20369063265f68b-95d03db6339d9261-01"],"user-agent":["grpc-go/1.64.0"],"x-b3-sampled":["1"],"x-b3-spanid":["95d03db6339d9261"],"x-b3-traceid":["11d81e802c1555ffa20369063265f68b"]},"msg":"_grpc_request_in","time":"2025-02-09 14:57:37"}
{"level":"debug","msg":"Executing query","query":"CheckIfItemsInStock","query_body":"{\"Items\":[{\"ID\":\"prod_RPmhK2nexllK3r\",\"Quantity\":50},{\"ID\":\"prod_ROGERol0hYd3tx\",\"Quantity\":97}]}","time":"2025-02-09 14:57:37"}
{"cost":8679000000000,"error":null,"key":"check_stock_prod_RPmhK2nexllK3r_prod_ROGERol0hYd3tx","level":"info","msg":"_redis_setnx_success","now":"2025-02-09T14:57:37.247993+08:00","time":"2025-02-09 14:57:37","value":"1"}
{"args":"{\"product_id\":[\"prod_RPmhK2nexllK3r\",\"prod_ROGERol0hYd3tx\"]}","cost":11,"level":"info","method":"BatchGetStockByID","msg":"mysql_success","resp":null,"time":"2025-02-09 14:57:37"}
{"args":"{\"product_id\":[\"prod_RPmhK2nexllK3r\",\"prod_ROGERol0hYd3tx\"],\"for_update\":true}","cost":10,"level":"info","method":"BatchGetStockByID","msg":"mysql_success","resp":null,"time":"2025-02-09 14:57:37"}
{"cost":486500000000,"error":null,"key":"check_stock_prod_RPmhK2nexllK3r_prod_ROGERol0hYd3tx","level":"info","msg":"_redis_del_success","now":"2025-02-09T14:57:37.282871+08:00","time":"2025-02-09 14:57:37"}
{"args":{"Items":[{"ID":"prod_RPmhK2nexllK3r","Quantity":50},{"ID":"prod_ROGERol0hYd3tx","Quantity":97}]},"level":"info","metadata":{":authority":["127.0.0.1:5003"],"content-type":["application/grpc"],"traceparent":["00-766c54027e6335cf5b3bb80c785aadf7-38d8ee08be57e134-01"],"user-agent":["grpc-go/1.64.0"],"x-b3-sampled":["1"],"x-b3-spanid":["38d8ee08be57e134"],"x-b3-traceid":["766c54027e6335cf5b3bb80c785aadf7"]},"msg":"_grpc_request_in","time":"2025-02-09 15:15:17"}
{"level":"debug","msg":"Executing query","query":"CheckIfItemsInStock","query_body":"{\"Items\":[{\"ID\":\"prod_RPmhK2nexllK3r\",\"Quantity\":50},{\"ID\":\"prod_ROGERol0hYd3tx\",\"Quantity\":97}]}","time":"2025-02-09 15:15:17"}
{"cost":12163250000000,"error":null,"key":"check_stock_prod_RPmhK2nexllK3r_prod_ROGERol0hYd3tx","level":"info","msg":"_redis_setnx_success","now":"2025-02-09T15:15:17.473082+08:00","time":"2025-02-09 15:15:17","value":"1"}
{"args":"{\"product_id\":[\"prod_RPmhK2nexllK3r\",\"prod_ROGERol0hYd3tx\"]}","cost":143,"level":"info","method":"BatchGetStockByID","msg":"mysql_success","resp":null,"time":"2025-02-09 15:15:17"}
{"args":"{\"product_id\":[\"prod_RPmhK2nexllK3r\",\"prod_ROGERol0hYd3tx\"],\"for_update\":true}","cost":0,"level":"info","method":"BatchGetStockByID","msg":"mysql_success","resp":null,"time":"2025-02-09 15:15:17"}
{"cost":421792000000,"error":null,"key":"check_stock_prod_RPmhK2nexllK3r_prod_ROGERol0hYd3tx","level":"info","msg":"_redis_del_success","now":"2025-02-09T15:15:17.63218+08:00","time":"2025-02-09 15:15:17"}
{"args":{"Items":[{"ID":"prod_ROGERol0hYd3tx","Quantity":97},{"ID":"prod_RPmhK2nexllK3r","Quantity":50}]},"level":"info","metadata":{":authority":["127.0.0.1:5003"],"content-type":["application/grpc"],"traceparent":["00-0c697d8f1c99f008f1d1392921b74142-c91787cb8eb662b3-01"],"user-agent":["grpc-go/1.64.0"],"x-b3-sampled":["1"],"x-b3-spanid":["c91787cb8eb662b3"],"x-b3-traceid":["0c697d8f1c99f008f1d1392921b74142"]},"msg":"_grpc_request_in","time":"2025-02-09 15:24:26"}
{"level":"debug","msg":"Executing query","query":"CheckIfItemsInStock","query_body":"{\"Items\":[{\"ID\":\"prod_ROGERol0hYd3tx\",\"Quantity\":97},{\"ID\":\"prod_RPmhK2nexllK3r\",\"Quantity\":50}]}","time":"2025-02-09 15:24:26"}
{"cost":9536541000000,"error":null,"key":"check_stock_prod_ROGERol0hYd3tx_prod_RPmhK2nexllK3r","level":"info","msg":"_redis_setnx_success","now":"2025-02-09T15:24:26.102095+08:00","time":"2025-02-09 15:24:26","value":"1"}
{"args":"{\"product_id\":[\"prod_ROGERol0hYd3tx\",\"prod_RPmhK2nexllK3r\"]}","cost":28,"level":"info","method":"BatchGetStockByID","msg":"mysql_success","resp":null,"time":"2025-02-09 15:24:26"}
{"args":"{\"product_id\":[\"prod_ROGERol0hYd3tx\",\"prod_RPmhK2nexllK3r\"],\"for_update\":true}","cost":0,"level":"info","method":"BatchGetStockByID","msg":"mysql_success","resp":null,"time":"2025-02-09 15:24:26"}
{"cost":140375000000,"error":null,"key":"check_stock_prod_ROGERol0hYd3tx_prod_RPmhK2nexllK3r","level":"info","msg":"_redis_del_success","now":"2025-02-09T15:24:26.142266+08:00","time":"2025-02-09 15:24:26"}
{"args":{"Items":[{"ID":"prod_RPmhK2nexllK3r","Quantity":50},{"ID":"prod_ROGERol0hYd3tx","Quantity":97}]},"level":"info","metadata":{":authority":["127.0.0.1:5003"],"content-type":["application/grpc"],"traceparent":["00-39ba134b63a1497756832a8743df6105-4164d3122df886c3-01"],"user-agent":["grpc-go/1.64.0"],"x-b3-sampled":["1"],"x-b3-spanid":["4164d3122df886c3"],"x-b3-traceid":["39ba134b63a1497756832a8743df6105"]},"msg":"_grpc_request_in","time":"2025-02-09 15:28:59"}
{"level":"debug","msg":"Executing query","query":"CheckIfItemsInStock","query_body":"{\"Items\":[{\"ID\":\"prod_RPmhK2nexllK3r\",\"Quantity\":50},{\"ID\":\"prod_ROGERol0hYd3tx\",\"Quantity\":97}]}","time":"2025-02-09 15:28:59"}
{"cost":10318250000000,"error":null,"key":"check_stock_prod_RPmhK2nexllK3r_prod_ROGERol0hYd3tx","level":"info","msg":"_redis_setnx_success","now":"2025-02-09T15:28:59.510892+08:00","time":"2025-02-09 15:28:59","value":"1"}
{"args":"{\"product_id\":[\"prod_RPmhK2nexllK3r\",\"prod_ROGERol0hYd3tx\"]}","cost":26,"level":"info","method":"BatchGetStockByID","msg":"mysql_success","resp":null,"time":"2025-02-09 15:28:59"}
{"args":"{\"product_id\":[\"prod_RPmhK2nexllK3r\",\"prod_ROGERol0hYd3tx\"],\"for_update\":true}","cost":1,"level":"info","method":"BatchGetStockByID","msg":"mysql_success","resp":null,"time":"2025-02-09 15:28:59"}
{"cost":259000000000,"error":null,"key":"check_stock_prod_RPmhK2nexllK3r_prod_ROGERol0hYd3tx","level":"info","msg":"_redis_del_success","now":"2025-02-09T15:28:59.550461+08:00","time":"2025-02-09 15:28:59"}
{"level":"debug","msg":"dsn = root:root@tcp(localhost:3307)/gorder_v2?charset=utf8mb4\u0026parseTime=True\u0026loc=Local","time":"2025-02-09 15:34:57"}
{"addr":"127.0.0.1:5003","level":"info","msg":"register to consul","serviceName":"stock","time":"2025-02-09 15:34:58"}
{"level":"info","msg":"Start gRPC server, Listening: 127.0.0.1:5003","time":"2025-02-09 15:34:58"}
{"args":{"Items":[{"ID":"prod_RPmhK2nexllK3r","Quantity":50},{"ID":"prod_ROGERol0hYd3tx","Quantity":97}]},"level":"info","metadata":{":authority":["127.0.0.1:5003"],"content-type":["application/grpc"],"traceparent":["00-b4906ec5c7784830145954d3d4c4262f-ff499af368642e92-01"],"user-agent":["grpc-go/1.64.0"],"x-b3-sampled":["1"],"x-b3-spanid":["ff499af368642e92"],"x-b3-traceid":["b4906ec5c7784830145954d3d4c4262f"]},"msg":"_grpc_request_in","time":"2025-02-09 15:35:05"}
{"cost":11995208000000,"error":null,"key":"check_stock_prod_RPmhK2nexllK3r_prod_ROGERol0hYd3tx","level":"info","msg":"_redis_setnx_success","now":"2025-02-09T15:35:05.701118+08:00","time":"2025-02-09 15:35:05","value":"1"}
{"args":"{\"product_id\":[\"prod_RPmhK2nexllK3r\",\"prod_ROGERol0hYd3tx\"]}","cost":7,"level":"info","method":"BatchGetStockByID","msg":"mysql_success","resp":null,"time":"2025-02-09 15:35:05"}
{"args":"{\"product_id\":[\"prod_RPmhK2nexllK3r\",\"prod_ROGERol0hYd3tx\"],\"for_update\":true}","cost":7,"level":"info","method":"BatchGetStockByID","msg":"mysql_success","resp":null,"time":"2025-02-09 15:35:05"}
{"cost":180500000000,"error":null,"key":"check_stock_prod_RPmhK2nexllK3r_prod_ROGERol0hYd3tx","level":"info","msg":"_redis_del_success","now":"2025-02-09T15:35:05.730864+08:00","time":"2025-02-09 15:35:05"}
{"level":"debug","msg":"dsn = root:root@tcp(localhost:3307)/gorder_v2?charset=utf8mb4\u0026parseTime=True\u0026loc=Local","time":"2025-02-09 15:57:07"}
{"addr":"127.0.0.1:5003","level":"info","msg":"register to consul","serviceName":"stock","time":"2025-02-09 15:57:07"}
{"level":"info","msg":"Start gRPC server, Listening: 127.0.0.1:5003","time":"2025-02-09 15:57:07"}
{"args":{"Items":[{"ID":"prod_RPmhK2nexllK3r","Quantity":50},{"ID":"prod_ROGERol0hYd3tx","Quantity":97}]},"level":"info","metadata":{":authority":["127.0.0.1:5003"],"content-type":["application/grpc"],"traceparent":["00-a88c0547e67077ca1e1d874a80031ac3-fd6a6c52a1ae97c5-01"],"user-agent":["grpc-go/1.64.0"],"x-b3-sampled":["1"],"x-b3-spanid":["fd6a6c52a1ae97c5"],"x-b3-traceid":["a88c0547e67077ca1e1d874a80031ac3"]},"msg":"_grpc_request_in","time":"2025-02-09 15:57:16"}
{"cost":3642167000000,"error":null,"key":"check_stock_prod_RPmhK2nexllK3r_prod_ROGERol0hYd3tx","level":"info","msg":"_redis_setnx_success","now":"2025-02-09T15:57:16.685411+08:00","time":"2025-02-09 15:57:16","value":"1"}
{"args":"{\"product_id\":[\"prod_RPmhK2nexllK3r\",\"prod_ROGERol0hYd3tx\"]}","cost":6,"level":"info","method":"BatchGetStockByID","msg":"mysql_success","resp":null,"time":"2025-02-09 15:57:16"}
{"args":"{\"product_id\":[\"prod_RPmhK2nexllK3r\",\"prod_ROGERol0hYd3tx\"],\"for_update\":true}","cost":6,"level":"info","method":"BatchGetStockByID","msg":"mysql_success","resp":null,"time":"2025-02-09 15:57:16"}
{"cost":367042000000,"error":null,"key":"check_stock_prod_RPmhK2nexllK3r_prod_ROGERol0hYd3tx","level":"info","msg":"_redis_del_success","now":"2025-02-09T15:57:16.7039+08:00","time":"2025-02-09 15:57:16"}
{"level":"debug","msg":"dsn = root:root@tcp(localhost:3307)/gorder_v2?charset=utf8mb4\u0026parseTime=True\u0026loc=Local","time":"2025-02-09 15:58:56"}
{"addr":"127.0.0.1:5003","level":"info","msg":"register to consul","serviceName":"stock","time":"2025-02-09 15:58:56"}
{"level":"info","msg":"Start gRPC server, Listening: 127.0.0.1:5003","time":"2025-02-09 15:58:56"}
{"args":{"Items":[{"ID":"prod_ROGERol0hYd3tx","Quantity":97},{"ID":"prod_RPmhK2nexllK3r","Quantity":50}]},"level":"info","metadata":{":authority":["127.0.0.1:5003"],"content-type":["application/grpc"],"traceparent":["00-a999516a9c36f43520f881a2fda1e891-d5f50b46106cf55a-01"],"user-agent":["grpc-go/1.64.0"],"x-b3-sampled":["1"],"x-b3-spanid":["d5f50b46106cf55a"],"x-b3-traceid":["a999516a9c36f43520f881a2fda1e891"]},"msg":"_grpc_request_in","time":"2025-02-09 15:58:59"}
{"cost":4135666000000,"error":null,"key":"check_stock_prod_ROGERol0hYd3tx_prod_RPmhK2nexllK3r","level":"info","msg":"_redis_setnx_success","now":"2025-02-09T15:58:59.794166+08:00","time":"2025-02-09 15:58:59","value":"1"}
{"args":"{\"product_id\":[\"prod_ROGERol0hYd3tx\",\"prod_RPmhK2nexllK3r\"]}","cost":12,"level":"info","method":"BatchGetStockByID","msg":"mysql_success","resp":null,"time":"2025-02-09 15:58:59"}
{"args":"{\"product_id\":[\"prod_ROGERol0hYd3tx\",\"prod_RPmhK2nexllK3r\"],\"for_update\":true}","cost":7,"level":"info","method":"BatchGetStockByID","msg":"mysql_success","resp":null,"time":"2025-02-09 15:58:59"}
{"args":"{\"product_id\":[\"prod_RPmhK2nexllK3r\"],\"quantity\":[50]}","cost":9,"level":"info","method":"Update","msg":"mysql_success","resp":{"ID":0,"ProductID":"","Quantity":0,"Version":0,"CreatedAt":"0001-01-01T00:00:00Z","UpdatedAt":"0001-01-01T00:00:00Z"},"time":"2025-02-09 15:58:59"}
{"args":"{\"product_id\":[\"prod_ROGERol0hYd3tx\"],\"quantity\":[97]}","cost":0,"level":"info","method":"Update","msg":"mysql_success","resp":{"ID":0,"ProductID":"","Quantity":0,"Version":0,"CreatedAt":"0001-01-01T00:00:00Z","UpdatedAt":"0001-01-01T00:00:00Z"},"time":"2025-02-09 15:58:59"}
{"cost":1030042000000,"error":null,"key":"check_stock_prod_ROGERol0hYd3tx_prod_RPmhK2nexllK3r","level":"info","msg":"_redis_del_success","now":"2025-02-09T15:59:00.600257+08:00","time":"2025-02-09 15:59:00"}
{"level":"info","msg":"Query executed successfully","query":"CheckIfItemsInStock","query_body":"{\"Items\":[{\"ID\":\"prod_ROGERol0hYd3tx\",\"Quantity\":97},{\"ID\":\"prod_RPmhK2nexllK3r\",\"Quantity\":50}]}","time":"2025-02-09 15:59:00"}
{"grpc.code":"OK","grpc.method":"CheckIfItemsInStock","grpc.service":"stockpb.StockService","grpc.start_time":"2025-02-09T15:58:59+08:00","grpc.time_ms":808.502,"level":"info","msg":"finished unary call with code OK","peer.address":"127.0.0.1:53589","span.kind":"server","system":"grpc","time":"2025-02-09 15:59:00"}
{"level":"debug","msg":"dsn = root:root@tcp(localhost:3307)/gorder_v2?charset=utf8mb4\u0026parseTime=True\u0026loc=Local","time":"2025-02-09 16:03:38"}
{"addr":"127.0.0.1:5003","level":"info","msg":"register to consul","serviceName":"stock","time":"2025-02-09 16:03:38"}
{"level":"info","msg":"Start gRPC server, Listening: 127.0.0.1:5003","time":"2025-02-09 16:03:38"}
{"args":{"Items":[{"ID":"prod_RPmhK2nexllK3r","Quantity":50},{"ID":"prod_ROGERol0hYd3tx","Quantity":97}]},"level":"info","metadata":{":authority":["127.0.0.1:5003"],"content-type":["application/grpc"],"traceparent":["00-5b6639e774041263e86dfa9a362d8587-77ddf1eba042a0b5-01"],"user-agent":["grpc-go/1.64.0"],"x-b3-sampled":["1"],"x-b3-spanid":["77ddf1eba042a0b5"],"x-b3-traceid":["5b6639e774041263e86dfa9a362d8587"]},"msg":"_grpc_request_in","time":"2025-02-09 16:04:04"}
{"cost":5114542000000,"error":null,"key":"check_stock_prod_RPmhK2nexllK3r_prod_ROGERol0hYd3tx","level":"info","msg":"_redis_setnx_success","now":"2025-02-09T16:04:04.857752+08:00","time":"2025-02-09 16:04:04","value":"1"}
{"args":"{\"product_id\":[\"prod_RPmhK2nexllK3r\",\"prod_ROGERol0hYd3tx\"]}","cost":9,"level":"info","method":"BatchGetStockByID","msg":"mysql_success","resp":null,"time":"2025-02-09 16:04:04"}
{"args":"{\"product_id\":[\"prod_RPmhK2nexllK3r\",\"prod_ROGERol0hYd3tx\"],\"for_update\":true}","cost":10,"level":"info","method":"BatchGetStockByID","msg":"mysql_success","resp":null,"time":"2025-02-09 16:04:04"}
{"args":"{\"product_id\":[\"prod_RPmhK2nexllK3r\"],\"quantity\":[50]}","cost":4,"level":"info","method":"Update","msg":"mysql_success","resp":{"ID":0,"ProductID":"","Quantity":0,"Version":0,"CreatedAt":"0001-01-01T00:00:00Z","UpdatedAt":"0001-01-01T00:00:00Z"},"time":"2025-02-09 16:04:04"}
{"args":"{\"product_id\":[\"prod_ROGERol0hYd3tx\"],\"quantity\":[97]}","cost":1,"level":"info","method":"Update","msg":"mysql_success","resp":{"ID":0,"ProductID":"","Quantity":0,"Version":0,"CreatedAt":"0001-01-01T00:00:00Z","UpdatedAt":"0001-01-01T00:00:00Z"},"time":"2025-02-09 16:04:04"}
{"cost":1115334000000,"error":null,"key":"check_stock_prod_RPmhK2nexllK3r_prod_ROGERol0hYd3tx","level":"info","msg":"_redis_del_success","now":"2025-02-09T16:04:05.60501+08:00","time":"2025-02-09 16:04:05"}
{"level":"info","msg":"Query executed successfully","query":"CheckIfItemsInStock","query_body":"{\"Items\":[{\"ID\":\"prod_RPmhK2nexllK3r\",\"Quantity\":50},{\"ID\":\"prod_ROGERol0hYd3tx\",\"Quantity\":97}]}","time":"2025-02-09 16:04:05"}
{"grpc.code":"OK","grpc.method":"CheckIfItemsInStock","grpc.service":"stockpb.StockService","grpc.start_time":"2025-02-09T16:04:04+08:00","grpc.time_ms":749.821,"level":"info","msg":"finished unary call with code OK","peer.address":"127.0.0.1:54074","span.kind":"server","system":"grpc","time":"2025-02-09 16:04:05"}
